<h1><%= round.get("date") %></h1>


<% if (round.get("course")) { %>
  <% var courseName = round.get("course").name %>
  <h2><%= courseName %></h2>
  <% var parHash = round.get("course").par_hash %>
  <% var parTotal = 0 %>
  <% for (var key in parHash) { %>
    <% parTotal += parseInt(parHash[key]) %>
  <% } %>

<% } %>

<h3>Score: <%= round.get("score") %></h3>



<% var hash = round.get("score_hash") %>

<table>
  <tr>
    <th>Date</th>
    <th>Course</th>
    <th>Score</th>
    <th>Par</th>
    <% if (round.get("putts_hash")) { %>
      <th>Total Putts</th>
      <% var puttsTotal = 0 %>
      <% var puttsHash = round.get("putts_hash") %>
      <% for (var key in puttsHash) { %>
        <% puttsTotal += isNaN(parseInt(puttsHash[key])) ? 0 : parseInt(puttsHash[key]) %>
      <% } %>
    <% } %>

    <% if (round.get("fairways_hash")) { %>
      <th>Fairways in Regulation</th>
    <% } %>

    <% if (round.get("greens_hash")) { %>
      <th>Greens in Regulation</th>
    <% } %>
  </tr>

  <tr>
    <td><%= round.get("date") %></td>
    <td><%= courseName %></td>
    <td><%= round.get("score")%></td>
    <td><%= parTotal %></td>
    <% if (round.get("putts_hash")) { %>
      <td><%= puttsTotal %></td>
    <% } %>
    <% if (round.get("fairways_hash")) { %>
      <td><%= round.fairwaysCount() %></td>
    <% } %>

  </tr>
</table>
<br>

<table>
  <tr>
    <td>Holes</td>
    <% for (var num = 1; num <= 18; num++) { %>
      <td><%= num %></td>
    <% } %>
  </tr>

  <tr>
    <td>Score</td>
    <% for (var hole in hash) { %>
      <td><%= hash[hole] %></td>
    <% } %>
  </tr>
</table>
